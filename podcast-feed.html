<style>
  :host {
    display: block;
    border-top: 1px solid var(--border);
    position: relative;
    margin-bottom: 8px;
  }
  
  :host(.expanded) {
    margin-bottom: 24px;
  }

  .feed-meta {
    position: sticky;
    top: 0;
  }

  .feed-meta .primary {
    display: flex;
    background: var(--shaded);
    font-family: var(--title-font);
    align-items: center;
  }
  
  [as="title"] {
    white-space: nowrap;
    flex: 1;
    overflow: hidden;
    text-overflow: ellipsis;
    font-size: 1.3rem;
    padding: 8px;
  }
  
  @keyframes spinner {
    from { transform: rotateY(0) }
    to { transform: rotateY(3600deg) }
  }
  
  .load-spinner {
    display: none;
    padding: 0 12px;
    font-size: 2rem;
    animation: 5s spinner infinite ease-in-out alternate;
  }
  
  :host(.loading) .load-spinner {
    display: block;
  }
  
  :host(.loading) .counts {
    display: none;
  }

  :host([data-unheard="0"]) .counts {
    opacity: .5;
  }

  .counts {
    margin-right: 8px;
  }

  .primary button {
    background: transparent;
    padding: 4px;
    color: inherit;
    font-size: 2rem;
    border: none;
    padding: 4px;
    font-weight: normal;
  }
  
  .expando {
    transform-origin: center;
    transform: rotateX(180deg);
    transition: transform .4s ease;
  }
  
  .expando[aria-pressed="true"] {
    transform: rotateX(0);
  }
  
  .controls {
    display: flex;
    font-size: .8rem;
    justify-content: space-between;
    padding: 8px 16px;
    background: var(--background);
    margin-bottom: 12px;
  }
  
  .controls button {
    background: transparent;
    border: 1px solid var(--foreground);
    border: none;
    text-transform: uppercase;
    padding: 4px;
    color: var(--foreground);
    font-size: inherit;
  }
  
  [as="showMoreButton"] {
    display: block;
    width: 100%;
    font-size: 1.2rem;
    font-family: var(--ui-font);
    background: transparent;
    border: none;
    color: var(--foreground);
    text-transform: uppercase;
    padding: 8px;
    text-align: center;
  }
  
  :host(:not(.expanded)) .controls {
    display: none;
  }
  
  :host(:not(.expanded)) .onlyExpanded {
    display: none;
  }
  
  :host(.searching) .notSearching {
    display: none;
  }
</style>
<div class="feed-meta">
  <div class="primary">
    <div as="title">Loading...</div>
    <div class="load-spinner">&#9836;</div>
    <div class="counts">
      (<span as="unheard"></span> / <span as="total"></span>)
    </div>
    <button
      aria-label="play latest"
      as="playLatest"
      class="play-latest"
    >
      &veeeq;
    </button>
    <button
      aria-label="expand feed"
      aria-pressed="false"
      class="expando"
      as="expandButton"
    >
      &#9661;
    </button>
  </div>
  <div class="controls">
    <button as="unsubscribeButton">
      Remove
    </button>
    <hr aria-hidden="true">
    <button as="renameButton">
      Rename
    </button>
    <hr aria-hidden="true">
    <button as="searchButton">
      Search
    </button>
    <hr aria-hidden="true">
    <button as="markHeardButton">
      Clear
    </button>
    <hr aria-hidden="true">
    <button as="refreshButton">
      Refresh
    </button>
  </div>
</div>
<slot class="onlyExpanded" as="items"></slot>
<button class="notSearching onlyExpanded" as="showMoreButton">
  Show more...
</button>
